{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";function _createSuper(Derived){return function(){var Super=_getPrototypeOf(Derived),result;if(_isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}import*as React from'react';import{TabView}from'react-native-tab-view';import createTabNavigator from\"../utils/createTabNavigator\";import MaterialTopTabBar from\"../views/MaterialTopTabBar\";var MaterialTabView=function(_React$PureComponent){_inherits(MaterialTabView,_React$PureComponent);var _super=_createSuper(MaterialTabView);function MaterialTabView(){var _this;_classCallCheck(this,MaterialTabView);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_defineProperty(_assertThisInitialized(_this),\"renderTabBar\",function(props){var state=_this.props.navigation.state;var route=state.routes[state.index];var descriptors=_this.props.descriptors;var descriptor=descriptors[route.key];var options=descriptor.options;var tabBarVisible=options.tabBarVisible==null?true:options.tabBarVisible;var _this$props2=_this.props,navigation=_this$props2.navigation,getLabelText=_this$props2.getLabelText,getAccessibilityLabel=_this$props2.getAccessibilityLabel,getTestID=_this$props2.getTestID,renderIcon=_this$props2.renderIcon,onTabPress=_this$props2.onTabPress,onTabLongPress=_this$props2.onTabLongPress,_this$props2$tabBarCo=_this$props2.tabBarComponent,TabBarComponent=_this$props2$tabBarCo===void 0?MaterialTopTabBar:_this$props2$tabBarCo,tabBarPosition=_this$props2.tabBarPosition,tabBarOptions=_this$props2.tabBarOptions,screenProps=_this$props2.screenProps;if(TabBarComponent===null||!tabBarVisible){return null;}return React.createElement(TabBarComponent,_extends({},tabBarOptions,props,{tabBarPosition:tabBarPosition,screenProps:screenProps,navigation:navigation,getLabelText:getLabelText,getAccessibilityLabel:getAccessibilityLabel,getTestID:getTestID,renderIcon:renderIcon,onTabPress:onTabPress,onTabLongPress:onTabLongPress}));});return _this;}_createClass(MaterialTabView,[{key:\"render\",value:function render(){var _this$props=this.props,getLabelText=_this$props.getLabelText,getAccessibilityLabel=_this$props.getAccessibilityLabel,getTestID=_this$props.getTestID,renderIcon=_this$props.renderIcon,onTabPress=_this$props.onTabPress,onTabLongPress=_this$props.onTabLongPress,screenProps=_this$props.screenProps,tabBarComponent=_this$props.tabBarComponent,tabBarOptions=_this$props.tabBarOptions,lazyPlaceholderComponent=_this$props.lazyPlaceholderComponent,pagerComponent=_this$props.pagerComponent,navigation=_this$props.navigation,descriptors=_this$props.descriptors,rest=_objectWithoutProperties(_this$props,[\"getLabelText\",\"getAccessibilityLabel\",\"getTestID\",\"renderIcon\",\"onTabPress\",\"onTabLongPress\",\"screenProps\",\"tabBarComponent\",\"tabBarOptions\",\"lazyPlaceholderComponent\",\"pagerComponent\",\"navigation\",\"descriptors\"]);var state=navigation.state;var route=state.routes[state.index];var descriptor=descriptors[route.key];var options=descriptor.options;var swipeEnabled=options.swipeEnabled==null?this.props.swipeEnabled:options.swipeEnabled;if(typeof swipeEnabled==='function'){swipeEnabled=swipeEnabled(state);}return React.createElement(TabView,_extends({},rest,{navigationState:navigation.state,swipeEnabled:swipeEnabled,renderTabBar:this.renderTabBar,renderLazyPlaceholder:lazyPlaceholderComponent!==undefined?function(props){return React.createElement(lazyPlaceholderComponent,props);}:undefined,renderPager:pagerComponent!==undefined?function(props){return React.createElement(pagerComponent,props);}:undefined}));}}]);return MaterialTabView;}(React.PureComponent);export default createTabNavigator(MaterialTabView);","map":{"version":3,"sources":["createMaterialTopTabNavigator.tsx"],"names":["React","props","state","route","descriptors","descriptor","options","tabBarVisible","tabBarComponent","TabBarComponent","screenProps","onTabLongPress","swipeEnabled","navigation","lazyPlaceholderComponent","pagerComponent","undefined","createTabNavigator"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { StyleProp, ViewStyle } from 'react-native';\nimport { TabView, SceneRendererProps } from 'react-native-tab-view';\nimport createTabNavigator, {\n  NavigationViewProps,\n} from '../utils/createTabNavigator';\nimport MaterialTopTabBar from '../views/MaterialTopTabBar';\nimport {\n  NavigationTabProp,\n  NavigationMaterialTabOptions,\n  MaterialTabBarOptions,\n  SceneDescriptorMap,\n} from '../types';\n\ntype Route = {\n  key: string;\n  routeName: string;\n};\n\ntype Config = {\n  keyboardDismissMode?: 'none' | 'on-drag';\n  swipeEnabled?: boolean;\n  swipeDistanceThreshold?: number;\n  swipeVelocityThreshold?: number;\n  initialLayout?: { width?: number; height?: number };\n  lazy?: boolean;\n  lazyPlaceholderComponent?: React.ComponentType<{ route: Route }>;\n  pagerComponent?: React.ComponentType<\n    Parameters<React.ComponentProps<typeof TabView>['renderPager']>[0]\n  >;\n  tabBarComponent?: React.ComponentType<any>;\n  tabBarOptions?: MaterialTabBarOptions;\n  tabBarPosition?: 'top' | 'bottom';\n  sceneContainerStyle?: StyleProp<ViewStyle>;\n  style?: StyleProp<ViewStyle>;\n};\n\ntype Props = NavigationViewProps &\n  Config & {\n    onSwipeStart?: () => void;\n    onSwipeEnd?: () => void;\n    navigation: NavigationTabProp;\n    descriptors: SceneDescriptorMap;\n    screenProps?: unknown;\n  };\n\nclass MaterialTabView extends React.PureComponent<Props> {\n  private renderTabBar = (props: SceneRendererProps) => {\n    const { state } = this.props.navigation;\n    const route = state.routes[state.index];\n    const { descriptors } = this.props;\n    const descriptor = descriptors[route.key];\n    const options = descriptor.options;\n\n    const tabBarVisible =\n      options.tabBarVisible == null ? true : options.tabBarVisible;\n\n    const {\n      navigation,\n      getLabelText,\n      getAccessibilityLabel,\n      getTestID,\n      renderIcon,\n      onTabPress,\n      onTabLongPress,\n      tabBarComponent: TabBarComponent = MaterialTopTabBar,\n      tabBarPosition,\n      tabBarOptions,\n      screenProps,\n    } = this.props;\n\n    if (TabBarComponent === null || !tabBarVisible) {\n      return null;\n    }\n\n    return (\n      <TabBarComponent\n        {...tabBarOptions}\n        {...props}\n        tabBarPosition={tabBarPosition}\n        screenProps={screenProps}\n        navigation={navigation}\n        getLabelText={getLabelText}\n        getAccessibilityLabel={getAccessibilityLabel}\n        getTestID={getTestID}\n        renderIcon={renderIcon}\n        onTabPress={onTabPress}\n        onTabLongPress={onTabLongPress}\n      />\n    );\n  };\n\n  render() {\n    const {\n      /* eslint-disable @typescript-eslint/no-unused-vars */\n      getLabelText,\n      getAccessibilityLabel,\n      getTestID,\n      renderIcon,\n      onTabPress,\n      onTabLongPress,\n      screenProps,\n      tabBarComponent,\n      tabBarOptions,\n      /* eslint-enable @typescript-eslint/no-unused-vars */\n      lazyPlaceholderComponent,\n      pagerComponent,\n      navigation,\n      descriptors,\n      ...rest\n    } = this.props;\n\n    const { state } = navigation;\n    const route = state.routes[state.index];\n\n    const descriptor = descriptors[route.key];\n    const options = descriptor.options;\n\n    let swipeEnabled =\n      // @ts-ignore\n      options.swipeEnabled == null\n        ? this.props.swipeEnabled\n        : (options as any).swipeEnabled;\n\n    if (typeof swipeEnabled === 'function') {\n      swipeEnabled = swipeEnabled(state);\n    }\n\n    return (\n      <TabView\n        {...rest}\n        navigationState={navigation.state}\n        swipeEnabled={swipeEnabled}\n        renderTabBar={this.renderTabBar}\n        renderLazyPlaceholder={\n          lazyPlaceholderComponent !== undefined\n            ? (props) => React.createElement(lazyPlaceholderComponent, props)\n            : undefined\n        }\n        renderPager={\n          pagerComponent !== undefined\n            ? (props) => React.createElement(pagerComponent, props)\n            : undefined\n        }\n      />\n    );\n  }\n}\n\nexport default createTabNavigator<Config, NavigationMaterialTabOptions, Props>(\n  MaterialTabView\n);\n"]},"metadata":{},"sourceType":"module"}