{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import Animated from\"react-native-reanimated\";import{State}from\"react-native-gesture-handler\";import{snapPoint}from\"./Animations\";var Clock=Animated.Clock,Value=Animated.Value,event=Animated.event,add=Animated.add,block=Animated.block,cond=Animated.cond,divide=Animated.divide,eq=Animated.eq,multiply=Animated.multiply,set=Animated.set,stopClock=Animated.stopClock,and=Animated.and,not=Animated.not,clockRunning=Animated.clockRunning,startClock=Animated.startClock,neq=Animated.neq,call=Animated.call,reDecay=Animated.decay,reSpring=Animated.spring;export var withOffset=function withOffset(value,state){var offset=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new Value(0);return cond(eq(state,State.END),[set(offset,add(offset,value)),offset],add(offset,value));};export var withSpring=function withSpring(props){var _offset$props=_objectSpread({offset:new Value(0)},props),value=_offset$props.value,velocity=_offset$props.velocity,state=_offset$props.state,snapPoints=_offset$props.snapPoints,offset=_offset$props.offset,springConfig=_offset$props.config,onSnap=_offset$props.onSnap;var clock=new Clock();var springState={finished:new Value(0),velocity:new Value(0),position:new Value(0),time:new Value(0)};var config=_objectSpread({toValue:new Value(0),damping:6,mass:1,stiffness:64,overshootClamping:false,restSpeedThreshold:0.01,restDisplacementThreshold:0.01},springConfig);var gestureAndAnimationIsOver=new Value(1);var isSpringInterrupted=and(eq(state,State.BEGAN),clockRunning(clock));var finishSpring=[set(offset,springState.position),stopClock(clock),set(gestureAndAnimationIsOver,1)];var snap=onSnap?[cond(clockRunning(clock),call([springState.position],onSnap))]:[];return block([cond(isSpringInterrupted,finishSpring),cond(gestureAndAnimationIsOver,set(springState.position,offset)),cond(neq(state,State.END),[set(gestureAndAnimationIsOver,0),set(springState.finished,0),set(springState.position,add(offset,value))]),cond(and(eq(state,State.END),not(gestureAndAnimationIsOver)),[cond(and(not(clockRunning(clock)),not(springState.finished)),[set(springState.velocity,velocity),set(springState.time,0),set(config.toValue,snapPoint(springState.position,velocity,snapPoints)),startClock(clock)]),reSpring(clock,springState,config),cond(springState.finished,[].concat(snap,finishSpring))]),springState.position]);};export var withDecay=function withDecay(config){var _offset$deceleration$=_objectSpread({offset:new Value(0),deceleration:0.998},config),value=_offset$deceleration$.value,velocity=_offset$deceleration$.velocity,state=_offset$deceleration$.state,offset=_offset$deceleration$.offset,deceleration=_offset$deceleration$.deceleration;var clock=new Clock();var decayState={finished:new Value(0),velocity:new Value(0),position:new Value(0),time:new Value(0)};var isDecayInterrupted=and(eq(state,State.BEGAN),clockRunning(clock));var finishDecay=[set(offset,decayState.position),stopClock(clock)];return block([cond(isDecayInterrupted,finishDecay),cond(neq(state,State.END),[set(decayState.finished,0),set(decayState.position,add(offset,value))]),cond(eq(state,State.END),[cond(and(not(clockRunning(clock)),not(decayState.finished)),[set(decayState.velocity,velocity),set(decayState.time,0),startClock(clock)]),reDecay(clock,decayState,{deceleration:deceleration}),cond(decayState.finished,finishDecay)]),decayState.position]);};export var preserveMultiplicativeOffset=function preserveMultiplicativeOffset(value,state){var previous=new Animated.Value(1);var offset=new Animated.Value(1);return block([cond(eq(state,State.BEGAN),[set(previous,1)],[set(offset,multiply(offset,divide(value,previous))),set(previous,value)]),offset]);};export var onScroll=function onScroll(contentOffset){return event([{nativeEvent:{contentOffset:contentOffset}}]);};export var onGestureEvent=function onGestureEvent(nativeEvent){var gestureEvent=event([{nativeEvent:nativeEvent}]);return{onHandlerStateChange:gestureEvent,onGestureEvent:gestureEvent};};export var panGestureHandler=function panGestureHandler(){var x=new Value(0);var translationX=new Value(0);var velocityX=new Value(0);var y=new Value(0);var translationY=new Value(0);var velocityY=new Value(0);var state=new Value(State.UNDETERMINED);var gestureHandler=onGestureEvent({x:x,translationX:translationX,velocityX:velocityX,y:y,translationY:translationY,velocityY:velocityY,state:state});return{x:x,translationX:translationX,velocityX:velocityX,y:y,translationY:translationY,velocityY:velocityY,state:state,gestureHandler:gestureHandler};};export var horizontalPanGestureHandler=function horizontalPanGestureHandler(){var x=new Value(0);var translationX=new Value(0);var velocityX=new Value(0);var state=new Value(State.UNDETERMINED);var gestureHandler=onGestureEvent({translationX:translationX,velocityX:velocityX,state:state});return{x:x,translationX:translationX,state:state,velocityX:velocityX,gestureHandler:gestureHandler};};export var verticalPanGestureHandler=function verticalPanGestureHandler(){var y=new Value(0);var translationY=new Value(0);var velocityY=new Value(0);var state=new Value(State.UNDETERMINED);var gestureHandler=onGestureEvent({y:y,translationY:translationY,velocityY:velocityY,state:state});return{y:y,translationY:translationY,state:state,velocityY:velocityY,gestureHandler:gestureHandler};};","map":{"version":3,"sources":["Gesture.ts"],"names":["Clock","Value","event","add","block","cond","divide","eq","multiply","set","stopClock","and","not","clockRunning","startClock","neq","call","decay","reDecay","spring","reSpring","Animated","withOffset","offset","State","withSpring","value","velocity","state","snapPoints","springConfig","onSnap","clock","springState","finished","position","time","config","toValue","damping","mass","stiffness","overshootClamping","restSpeedThreshold","restDisplacementThreshold","gestureAndAnimationIsOver","isSpringInterrupted","finishSpring","snap","snapPoint","withDecay","deceleration","decayState","isDecayInterrupted","finishDecay","preserveMultiplicativeOffset","previous","onScroll","nativeEvent","contentOffset","onGestureEvent","gestureEvent","onHandlerStateChange","panGestureHandler","x","translationX","velocityX","y","translationY","velocityY","gestureHandler","horizontalPanGestureHandler","verticalPanGestureHandler"],"mappings":"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","sourcesContent":["import Animated from \"react-native-reanimated\";\nimport {\n  FlingGestureHandlerEventExtra,\n  ForceTouchGestureHandlerEventExtra,\n  GestureHandlerStateChangeNativeEvent,\n  LongPressGestureHandlerEventExtra,\n  PanGestureHandlerEventExtra,\n  PinchGestureHandlerEventExtra,\n  RotationGestureHandlerEventExtra,\n  State,\n  TapGestureHandlerEventExtra\n} from \"react-native-gesture-handler\";\n\nimport { snapPoint } from \"./Animations\";\n\nconst {\n  Clock,\n  Value,\n  event,\n  add,\n  block,\n  cond,\n  divide,\n  eq,\n  multiply,\n  set,\n  stopClock,\n  and,\n  not,\n  clockRunning,\n  startClock,\n  neq,\n  call,\n  decay: reDecay,\n  spring: reSpring\n} = Animated;\n\nexport const withOffset = (\n  value: Animated.Node<number>,\n  state: Animated.Value<State>,\n  offset: Animated.Value<number> = new Value(0)\n) =>\n  cond(\n    eq(state, State.END),\n    [set(offset, add(offset, value)), offset],\n    add(offset, value)\n  );\n\ninterface PrivateSpringConfig extends Animated.SpringConfig {\n  toValue: Animated.Value<number>;\n}\n\ntype SpringConfig = Omit<Animated.SpringConfig, \"toValue\">;\n\nexport interface WithSpringParams {\n  value: Animated.Adaptable<number>;\n  velocity: Animated.Adaptable<number>;\n  state: Animated.Value<State>;\n  snapPoints: Animated.Adaptable<number>[];\n  offset?: Animated.Value<number>;\n  config?: SpringConfig;\n  onSnap?: (value: readonly number[]) => void;\n}\n\nexport const withSpring = (props: WithSpringParams) => {\n  const {\n    value,\n    velocity,\n    state,\n    snapPoints,\n    offset,\n    config: springConfig,\n    onSnap\n  } = {\n    offset: new Value(0),\n    ...props\n  };\n  const clock = new Clock();\n  const springState: Animated.SpringState = {\n    finished: new Value(0),\n    velocity: new Value(0),\n    position: new Value(0),\n    time: new Value(0)\n  };\n\n  const config: PrivateSpringConfig = {\n    toValue: new Value(0),\n    damping: 6,\n    mass: 1,\n    stiffness: 64,\n    overshootClamping: false,\n    restSpeedThreshold: 0.01,\n    restDisplacementThreshold: 0.01,\n    ...springConfig\n  };\n\n  const gestureAndAnimationIsOver = new Value(1);\n  const isSpringInterrupted = and(eq(state, State.BEGAN), clockRunning(clock));\n  const finishSpring = [\n    set(offset, springState.position),\n    stopClock(clock),\n    set(gestureAndAnimationIsOver, 1)\n  ];\n  const snap = onSnap\n    ? [cond(clockRunning(clock), call([springState.position], onSnap))]\n    : [];\n  return block([\n    cond(isSpringInterrupted, finishSpring),\n    cond(gestureAndAnimationIsOver, set(springState.position, offset)),\n    cond(neq(state, State.END), [\n      set(gestureAndAnimationIsOver, 0),\n      set(springState.finished, 0),\n      set(springState.position, add(offset, value))\n    ]),\n    cond(and(eq(state, State.END), not(gestureAndAnimationIsOver)), [\n      cond(and(not(clockRunning(clock)), not(springState.finished)), [\n        set(springState.velocity, velocity),\n        set(springState.time, 0),\n        set(\n          config.toValue,\n          snapPoint(springState.position, velocity, snapPoints)\n        ),\n        startClock(clock)\n      ]),\n      reSpring(clock, springState, config),\n      cond(springState.finished, [...snap, ...finishSpring])\n    ]),\n    springState.position\n  ]);\n};\n\ninterface WithDecayParams {\n  value: Animated.Adaptable<number>;\n  velocity: Animated.Adaptable<number>;\n  state: Animated.Value<State>;\n  offset?: Animated.Value<number>;\n  deceleration?: number;\n}\n\nexport const withDecay = (config: WithDecayParams) => {\n  const { value, velocity, state, offset, deceleration } = {\n    offset: new Value(0),\n    deceleration: 0.998,\n    ...config\n  };\n  const clock = new Clock();\n  const decayState = {\n    finished: new Value(0),\n    velocity: new Value(0),\n    position: new Value(0),\n    time: new Value(0)\n  };\n\n  const isDecayInterrupted = and(eq(state, State.BEGAN), clockRunning(clock));\n  const finishDecay = [set(offset, decayState.position), stopClock(clock)];\n\n  return block([\n    cond(isDecayInterrupted, finishDecay),\n    cond(neq(state, State.END), [\n      set(decayState.finished, 0),\n      set(decayState.position, add(offset, value))\n    ]),\n    cond(eq(state, State.END), [\n      cond(and(not(clockRunning(clock)), not(decayState.finished)), [\n        set(decayState.velocity, velocity),\n        set(decayState.time, 0),\n        startClock(clock)\n      ]),\n      reDecay(clock, decayState, { deceleration }),\n      cond(decayState.finished, finishDecay)\n    ]),\n    decayState.position\n  ]);\n};\n\nexport const preserveMultiplicativeOffset = (\n  value: Animated.Adaptable<number>,\n  state: Animated.Adaptable<number>\n) => {\n  const previous = new Animated.Value(1);\n  const offset = new Animated.Value(1);\n\n  return block([\n    cond(\n      eq(state, State.BEGAN),\n      [set(previous, 1)],\n      [\n        set(offset, multiply(offset, divide(value, previous))),\n        set(previous, value)\n      ]\n    ),\n    offset\n  ]);\n};\n\nexport const onScroll = (contentOffset: {\n  x?: Animated.Node<number>;\n  y?: Animated.Node<number>;\n}) =>\n  event([\n    {\n      nativeEvent: {\n        contentOffset\n      }\n    }\n  ]);\n\ntype NativeEvent = GestureHandlerStateChangeNativeEvent &\n  (\n    | PanGestureHandlerEventExtra\n    | TapGestureHandlerEventExtra\n    | LongPressGestureHandlerEventExtra\n    | RotationGestureHandlerEventExtra\n    | FlingGestureHandlerEventExtra\n    | PinchGestureHandlerEventExtra\n    | ForceTouchGestureHandlerEventExtra\n  );\n\ntype Adaptable<T> = { [P in keyof T]: Animated.Adaptable<T[P]> };\n\nexport const onGestureEvent = (\n  nativeEvent: Partial<Adaptable<NativeEvent>>\n) => {\n  const gestureEvent = event([{ nativeEvent }]);\n  return {\n    onHandlerStateChange: gestureEvent,\n    onGestureEvent: gestureEvent\n  };\n};\n\nexport const panGestureHandler = () => {\n  const x = new Value(0);\n  const translationX = new Value(0);\n  const velocityX = new Value(0);\n  const y = new Value(0);\n  const translationY = new Value(0);\n  const velocityY = new Value(0);\n  const state = new Value(State.UNDETERMINED);\n  const gestureHandler = onGestureEvent({\n    x,\n    translationX,\n    velocityX,\n    y,\n    translationY,\n    velocityY,\n    state\n  });\n  return {\n    x,\n    translationX,\n    velocityX,\n    y,\n    translationY,\n    velocityY,\n    state,\n    gestureHandler\n  };\n};\n\nexport const horizontalPanGestureHandler = () => {\n  const x = new Value(0);\n  const translationX = new Value(0);\n  const velocityX = new Value(0);\n  const state = new Value(State.UNDETERMINED);\n  const gestureHandler = onGestureEvent({\n    translationX,\n    velocityX,\n    state\n  });\n  return {\n    x,\n    translationX,\n    state,\n    velocityX,\n    gestureHandler\n  };\n};\n\nexport const verticalPanGestureHandler = () => {\n  const y = new Value(0);\n  const translationY = new Value(0);\n  const velocityY = new Value(0);\n  const state = new Value(State.UNDETERMINED);\n  const gestureHandler = onGestureEvent({\n    y,\n    translationY,\n    velocityY,\n    state\n  });\n  return {\n    y,\n    translationY,\n    state,\n    velocityY,\n    gestureHandler\n  };\n};\n"]},"metadata":{},"sourceType":"module"}