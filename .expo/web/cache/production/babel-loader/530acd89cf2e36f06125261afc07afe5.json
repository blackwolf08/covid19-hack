{"ast":null,"code":"'use strict';import _extends from\"@babel/runtime/helpers/extends\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";function _createSuper(Derived){return function(){var Super=_getPrototypeOf(Derived),result;if(_isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from\"react\";import PropTypes from\"prop-types\";import View from\"react-native-web/dist/exports/View\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Animated from\"react-native-web/dist/exports/Animated\";import Platform from\"react-native-web/dist/exports/Platform\";import ViewPropTypes from\"react-native-web/dist/exports/ViewPropTypes\";import S from\"./Style.js\";var FlipCard=function(_Component){_inherits(FlipCard,_Component);var _super=_createSuper(FlipCard);function FlipCard(props){var _this;_classCallCheck(this,FlipCard);_this=_super.call(this,props);var isFlipped=_this.props.alignHeight||_this.props.alignWidth?!props.flip:props.flip;_this.state={isFlipped:isFlipped,isFlipping:false,rotate:new Animated.Value(Number(props.flip)),mesured:false,height:0,width:0,face:{width:0,height:0},back:{width:0,height:0}};return _this;}_createClass(FlipCard,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(this.state.isFlipped!==nextProps.flip){this._toggleCard();}}},{key:\"_toggleCard\",value:function _toggleCard(){this.setState({isFlipping:true});this.props.onFlipStart(this.state.isFlipped);this._animation(!this.state.isFlipped);}},{key:\"_animation\",value:function _animation(isFlipped){var _this2=this;if(!this.timer){this.timer=setTimeout(function(){_this2.setState({isFlipped:!_this2.state.isFlipped});_this2.timer=null;},120);}Animated.spring(this.state.rotate,{toValue:Number(isFlipped),friction:this.props.friction,useNativeDriver:this.props.useNativeDriver}).start(function(param){_this2.setState({isFlipping:false});_this2.props.onFlipEnd(_this2.state.isFlipped);});}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.alignHeight||this.props.alignWidth){this.measureOtherSideTimeout=setTimeout(this.measureOtherSide.bind(this),32);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearTimeout(this.measureOtherSideTimeout);}},{key:\"measureOtherSide\",value:function measureOtherSide(){this.setState({isFlipped:!this.state.isFlipped,mesured:true});}},{key:\"render\",value:function render(){var _this3=this;var c=this.props.children;var transform=this.props.perspective?[{perspective:this.props.perspective}]:[];var render_side=false;if(this.props.flipHorizontal){transform.push({rotateY:this.state.rotate.interpolate({inputRange:[0,1],outputRange:['0deg','180deg']})});}if(this.props.flipVertical){transform.push({rotateX:this.state.rotate.interpolate({inputRange:[0,1],outputRange:['0deg','180deg']})});}if(this.state.isFlipped){render_side=React.createElement(Back,{style:[this.state.height>0&&{height:this.state.height},this.state.width>0&&{width:this.state.width}],flipHorizontal:this.props.flipHorizontal,flipVertical:this.props.flipVertical,perspective:this.props.perspective,onLayout:function onLayout(event){var _event$nativeEvent$la=event.nativeEvent.layout,x=_event$nativeEvent$la.x,y=_event$nativeEvent$la.y,width=_event$nativeEvent$la.width,height=_event$nativeEvent$la.height;var _update=_extends(_this3.state.back,{width:width,height:height});_this3.setState({back:_update});if(_this3.state.mesured){if(_this3.props.alignHeight){_this3.setState({height:Math.max(_this3.state.face.height,_this3.state.back.height)});}if(_this3.props.alignWidth){_this3.setState({width:Math.max(_this3.state.face.width,_this3.state.back.width)});}}}},c[1]);}else{render_side=React.createElement(Face,{style:[this.state.height>0&&{height:this.state.height},this.state.width>0&&{width:this.state.width}],onLayout:function onLayout(event){var _event$nativeEvent$la2=event.nativeEvent.layout,x=_event$nativeEvent$la2.x,y=_event$nativeEvent$la2.y,width=_event$nativeEvent$la2.width,height=_event$nativeEvent$la2.height;var _update=_extends(_this3.state.face,{width:width,height:height});_this3.setState({face:_update});if(_this3.state.mesured){if(_this3.props.alignHeight){_this3.setState({height:Math.max(_this3.state.face.height,_this3.state.back.height)});}if(_this3.props.alignWidth){_this3.setState({width:Math.max(_this3.state.face.width,_this3.state.back.width)});}}}},c[0]);}if(this.props.clickable){var opacity=0;if((this.props.alignHeight||this.props.alignWidth)&&this.state.mesured||!(this.props.alignHeight||this.props.alignWidth)){opacity=1;}return React.createElement(TouchableOpacity,{style:{flex:1},testID:this.props.testID,activeOpacity:1,onPress:function onPress(){_this3._toggleCard();}},React.createElement(Animated.View,_extends({},this.props,{style:[S.flipCard,{transform:transform,opacity:opacity},this.props.style]}),render_side));}else{return React.createElement(Animated.View,_extends({},this.props,{style:[S.flipCard,{transform:transform},this.props.style]}),render_side);}}}]);return FlipCard;}(Component);FlipCard.propTypes={style:ViewPropTypes.style};export{FlipCard as default};FlipCard.propTypes={flip:PropTypes.bool,friction:PropTypes.number,perspective:PropTypes.number,flipHorizontal:PropTypes.bool,flipVertical:PropTypes.bool,clickable:PropTypes.bool,onFlipEnd:PropTypes.func,onFlipStart:PropTypes.func,alignHeight:PropTypes.bool,alignWidth:PropTypes.bool,useNativeDriver:PropTypes.bool,children:function children(props,propName,componentName){var prop=props[propName];if(React.Children.count(prop)!==2){return new Error('`'+componentName+'` '+'should contain exactly two children. '+'The first child represents the front of the card. '+'The second child represents the back of the card.');}}};FlipCard.defaultProps={flip:false,friction:6,perspective:1000,flipHorizontal:false,flipVertical:true,clickable:true,onFlipEnd:function onFlipEnd(){},onFlipStart:function onFlipStart(){},alignHeight:false,alignWidth:false,useNativeDriver:true};export var Face=function(_Component2){_inherits(Face,_Component2);var _super2=_createSuper(Face);function Face(){_classCallCheck(this,Face);return _super2.apply(this,arguments);}_createClass(Face,[{key:\"render\",value:function render(){return React.createElement(View,{style:[S.face,this.props.style],onLayout:this.props.onLayout},this.props.children);}}]);return Face;}(Component);Face.propTypes={children:function children(props,propName,componentName){}};export var Back=function(_Component3){_inherits(Back,_Component3);var _super3=_createSuper(Back);function Back(){_classCallCheck(this,Back);return _super3.apply(this,arguments);}_createClass(Back,[{key:\"render\",value:function render(){var transform=[];if(this.props.flipHorizontal){transform.push({scaleX:-1});if(Platform.OS===\"android\"){transform.push({perspective:this.props.perspective});}}if(this.props.flipVertical){transform.push({scaleY:-1});if(Platform.OS===\"android\"){transform.push({perspective:this.props.perspective});}}return React.createElement(View,{style:[S.back,this.props.style,{transform:transform}],onLayout:this.props.onLayout},this.props.children);}}]);return Back;}(Component);Back.defaultProps={flipHorizontal:false,flipVertical:true,perspective:1000};Back.propTypes={flipHorizontal:PropTypes.bool,flipVertical:PropTypes.bool,perspective:PropTypes.number,children:function children(props,propName,componentName){}};","map":{"version":3,"sources":["/media/blackwolf08/Data/New Projects/Covid-19/COVID19/node_modules/react-native-flip-card/lib/FlipCard.js"],"names":["React","Component","PropTypes","S","FlipCard","props","isFlipped","alignHeight","alignWidth","flip","state","isFlipping","rotate","Animated","Value","Number","mesured","height","width","face","back","nextProps","_toggleCard","setState","onFlipStart","_animation","timer","setTimeout","spring","toValue","friction","useNativeDriver","start","param","onFlipEnd","measureOtherSideTimeout","measureOtherSide","bind","clearTimeout","c","children","transform","perspective","render_side","flipHorizontal","push","rotateY","interpolate","inputRange","outputRange","flipVertical","rotateX","event","nativeEvent","layout","x","y","_update","Math","max","clickable","opacity","flex","testID","flipCard","style","propTypes","ViewPropTypes","bool","number","func","propName","componentName","prop","Children","count","Error","defaultProps","Face","onLayout","Back","scaleX","Platform","OS","scaleY"],"mappings":"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","sourcesContent":["'use strict'\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport {\n  View,\n  TouchableOpacity,\n  Animated,\n  Platform,\n  ViewPropTypes\n} from \"react-native\";\n\nimport S from './Style.js'\n\nexport default class FlipCard extends Component {\n  static propTypes = {\n    style: ViewPropTypes.style\n  }\n\n  constructor (props) {\n    super(props)\n\n    // set reversed boolean for detect other side size\n    const isFlipped = (this.props.alignHeight || this.props.alignWidth) ? !props.flip : props.flip;\n\n    this.state = {\n      isFlipped: isFlipped,\n      isFlipping: false,\n      rotate: new Animated.Value(Number(props.flip)),\n      mesured: false, // the flag to check whether it is measured or not.\n      height: 0,\n      width: 0,\n      face: { width: 0, height: 0 },\n      back: { width: 0, height: 0 }\n    }\n  }\n  componentWillReceiveProps (nextProps) {\n    if (this.state.isFlipped !== nextProps.flip) {\n      this._toggleCard()\n    }\n  }\n  _toggleCard () {\n    this.setState({isFlipping: true})\n    this.props.onFlipStart(this.state.isFlipped)\n    this._animation(!this.state.isFlipped)\n  }\n  _animation (isFlipped) {\n    if (!this.timer) {\n      this.timer = setTimeout(() => {\n        this.setState({isFlipped: !this.state.isFlipped})\n        this.timer = null\n      }, 120)\n    }\n    Animated.spring(this.state.rotate,\n     {\n        toValue: Number(isFlipped),\n        friction: this.props.friction,\n        useNativeDriver: this.props.useNativeDriver\n      }\n    ).start((param) => {\n      this.setState({isFlipping: false})\n      this.props.onFlipEnd(this.state.isFlipped)\n    })\n  }\n\n  componentDidMount () {\n    if (this.props.alignHeight || this.props.alignWidth) {\n      // need to check the other side width or height or both\n      this.measureOtherSideTimeout = setTimeout(this.measureOtherSide.bind(this), 32);\n    }\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.measureOtherSideTimeout);\n  }\n\n  measureOtherSide () {\n    this.setState({\n      isFlipped: !this.state.isFlipped,\n      mesured: true\n    })\n  }\n\n  render () {\n    var c = this.props.children;\n    var transform = this.props.perspective ? [{ perspective: this.props.perspective }] : []\n    var render_side = false\n\n    if (this.props.flipHorizontal) {\n      transform.push(\n        {rotateY: this.state.rotate.interpolate({\n          inputRange: [0, 1],\n          outputRange: [ '0deg', '180deg' ]\n        })}\n      )\n    }\n\n    if (this.props.flipVertical) {\n      transform.push(\n        {rotateX: this.state.rotate.interpolate({\n          inputRange: [0, 1],\n          outputRange: [ '0deg', '180deg' ]\n        })}\n      )\n    }\n\n    if (this.state.isFlipped) {\n      render_side = (\n        <Back\n          style={[ this.state.height > 0 && {height: this.state.height}, this.state.width > 0 && {width: this.state.width}]}\n          flipHorizontal={this.props.flipHorizontal}\n          flipVertical={this.props.flipVertical}\n          perspective={this.props.perspective}\n          onLayout={(event) => {\n            var {x, y, width, height} = event.nativeEvent.layout\n            var _update = Object.assign(this.state.back, {width: width, height: height})\n            this.setState({back: _update})\n            if (this.state.mesured) {\n              if (this.props.alignHeight) {\n                this.setState({height: Math.max(this.state.face.height, this.state.back.height)})\n              }\n              if (this.props.alignWidth) {\n                this.setState({width: Math.max(this.state.face.width, this.state.back.width)})\n              }\n            }\n          }}\n        >\n          {c[1]}\n        </Back>\n      )\n    } else {\n      render_side = (\n        <Face\n          style={[ this.state.height > 0 && { height: this.state.height }, this.state.width > 0 && { width: this.state.width }]}\n          onLayout={(event) => {\n            var {x, y, width, height} = event.nativeEvent.layout;\n            var _update = Object.assign(this.state.face, {width: width, height: height})\n            this.setState({face: _update})\n            if (this.state.mesured) {\n              if (this.props.alignHeight) {\n                this.setState({height: Math.max(this.state.face.height, this.state.back.height)})\n              }\n              if (this.props.alignWidth) {\n                this.setState({width: Math.max(this.state.face.width, this.state.back.width)})\n              }\n            }\n          }}\n        >\n          {c[0]}\n        </Face>\n      )\n    }\n\n    // FIX: ScrollView inside Flip Card not scrollable\n    // TODO: Replace below fix with by using \"disabled\" function (RN 0.21 exclusive)\n    // REF: https://github.com/facebook/react-native/pull/5931\n    //      https://github.com/facebook/react-native/issues/2103\n    if (this.props.clickable) {\n      let opacity = 0;\n      if ( ((this.props.alignHeight || this.props.alignWidth) && this.state.mesured) ||\n        !(this.props.alignHeight || this.props.alignWidth))  {\n        // if you set alignXXX property, we show this side after mesured\n        // Otherwise, it's showed immediately\n        opacity = 1;\n      }\n        return (\n        <TouchableOpacity\n          style={{flex:1}}\n          testID={this.props.testID}\n          activeOpacity={1}\n          onPress={() => { this._toggleCard(); }}\n        >\n          <Animated.View\n            {...this.props}\n            style={[\n              S.flipCard,\n              {\n                transform,\n                opacity,\n              },\n              this.props.style\n            ]}\n          >\n            {render_side}\n          </Animated.View>\n        </TouchableOpacity>\n      )\n    } else {\n      return (\n        <Animated.View\n          {...this.props}\n          style={[S.flipCard,\n          {transform: transform},\n          this.props.style\n          ]}\n        >\n          {render_side}\n        </Animated.View>\n      )\n    }\n  }\n}\nFlipCard.propTypes = {\n  flip: PropTypes.bool,\n  friction: PropTypes.number,\n  perspective: PropTypes.number,\n  flipHorizontal: PropTypes.bool,\n  flipVertical: PropTypes.bool,\n  clickable: PropTypes.bool,\n  onFlipEnd: PropTypes.func,\n  onFlipStart: PropTypes.func,\n  alignHeight: PropTypes.bool,\n  alignWidth: PropTypes.bool,\n  useNativeDriver: PropTypes.bool,\n  children (props, propName, componentName) {\n    const prop = props[propName]\n    if (React.Children.count(prop) !== 2) {\n      return new Error(\n        '`' + componentName + '` ' +\n        'should contain exactly two children. ' +\n        'The first child represents the front of the card. ' +\n        'The second child represents the back of the card.'\n      )\n    }\n  }\n}\n\nFlipCard.defaultProps = {\n  flip: false,\n  friction: 6,\n  perspective: 1000,\n  flipHorizontal: false,\n  flipVertical: true,\n  clickable: true,\n  onFlipEnd: () => {},\n  onFlipStart: () => {},\n  alignHeight: false,\n  alignWidth: false,\n  useNativeDriver: true,\n}\n\n\nexport class Face extends Component {\n  render () {\n    return (\n      <View\n        style={[S.face, this.props.style]}\n        onLayout={this.props.onLayout}\n      >\n        {this.props.children}\n      </View>\n    )\n  }\n}\n\nFace.propTypes = {\n  children (props, propName, componentName) {\n  }\n}\n\nexport class Back extends Component {\n  render () {\n    var transform = []\n    if (this.props.flipHorizontal) {\n      transform.push({scaleX: -1})\n      if (Platform.OS === \"android\") {\n        transform.push({perspective: this.props.perspective})\n      }\n    }\n    if (this.props.flipVertical) {\n      transform.push({scaleY: -1})\n      if (Platform.OS === \"android\") {\n        transform.push({perspective: this.props.perspective})\n      }\n    }\n\n    return (\n      <View\n      style={[\n        S.back,\n        this.props.style,\n        {transform: transform}\n        ]}\n        onLayout={this.props.onLayout}>\n        {this.props.children}\n      </View>\n    )\n  }\n}\n\nBack.defaultProps = {\n  flipHorizontal: false,\n  flipVertical: true,\n  perspective: 1000,\n}\n\nBack.propTypes = {\n  flipHorizontal: PropTypes.bool,\n  flipVertical: PropTypes.bool,\n  perspective: PropTypes.number,\n  children (props, propName, componentName) {\n  }\n}\n"]},"metadata":{},"sourceType":"module"}