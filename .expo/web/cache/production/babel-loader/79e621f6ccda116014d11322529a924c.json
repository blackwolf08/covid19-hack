{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";function _createSuper(Derived){return function(){var Super=_getPrototypeOf(Derived),result;if(_isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import AnimatedValue from\"../core/InternalAnimatedValue\";import Animation from\"./Animation\";import SpringConfig from\"../SpringConfig\";import spring from\"./spring\";import{block,clockRunning,startClock,stopClock,cond}from\"../base\";import Clock from\"../core/AnimatedClock\";import invariant from'fbjs/lib/invariant';function withDefault(value,defaultValue){if(value===undefined||value===null){return defaultValue;}return value;}var SpringAnimation=function(_Animation){_inherits(SpringAnimation,_Animation);var _super=_createSuper(SpringAnimation);function SpringAnimation(config){var _this;_classCallCheck(this,SpringAnimation);_this=_super.call(this);_this._overshootClamping=withDefault(config.overshootClamping,false);_this._restDisplacementThreshold=withDefault(config.restDisplacementThreshold,0.001);_this._restSpeedThreshold=withDefault(config.restSpeedThreshold,0.001);_this._initialVelocity=withDefault(config.velocity,0);_this._lastVelocity=withDefault(config.velocity,0);_this._toValue=config.toValue;_this._delay=withDefault(config.delay,0);if(config.stiffness!==undefined||config.damping!==undefined||config.mass!==undefined){invariant(config.bounciness===undefined&&config.speed===undefined&&config.tension===undefined&&config.friction===undefined,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one');_this._stiffness=withDefault(config.stiffness,100);_this._damping=withDefault(config.damping,10);_this._mass=withDefault(config.mass,1);}else if(config.bounciness!==undefined||config.speed!==undefined){invariant(config.tension===undefined&&config.friction===undefined&&config.stiffness===undefined&&config.damping===undefined&&config.mass===undefined,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one');var springConfig=SpringConfig.fromBouncinessAndSpeed(withDefault(config.bounciness,8),withDefault(config.speed,12));_this._stiffness=springConfig.stiffness;_this._damping=springConfig.damping;_this._mass=1;}else{var _springConfig=SpringConfig.fromOrigamiTensionAndFriction(withDefault(config.tension,40),withDefault(config.friction,7));_this._stiffness=_springConfig.stiffness;_this._damping=_springConfig.damping;_this._mass=1;}invariant(_this._stiffness>0,'Stiffness value must be greater than 0');invariant(_this._damping>0,'Damping value must be greater than 0');invariant(_this._mass>0,'Mass value must be greater than 0');return _this;}_createClass(SpringAnimation,[{key:\"start\",value:function start(value){this._clock=new Clock();var state={finished:new AnimatedValue(0),velocity:new AnimatedValue(this._initialVelocity),position:value,time:new AnimatedValue(0)};var config={damping:this._damping,mass:this._mass,stiffness:this._stiffness,toValue:this._toValue,overshootClamping:this._overshootClamping,restSpeedThreshold:this._restSpeedThreshold,restDisplacementThreshold:this._restDisplacementThreshold};return block([cond(clockRunning(this._clock),0,[startClock(this._clock)]),spring(this._clock,state,config),cond(state.finished,stopClock(this._clock))]);}},{key:\"stop\",value:function stop(){}}],[{key:\"getDefaultState\",value:function getDefaultState(){return{position:new AnimatedValue(0),finished:new AnimatedValue(0),velocity:new AnimatedValue(0),time:new AnimatedValue(0)};}}]);return SpringAnimation;}(Animation);export{SpringAnimation as default};","map":{"version":3,"sources":["/media/blackwolf08/Data/New Projects/Covid-19/COVID19/node_modules/react-native-reanimated/src/animations/SpringAnimation.js"],"names":["AnimatedValue","Animation","SpringConfig","spring","block","clockRunning","startClock","stopClock","cond","Clock","invariant","withDefault","value","defaultValue","undefined","SpringAnimation","config","_overshootClamping","overshootClamping","_restDisplacementThreshold","restDisplacementThreshold","_restSpeedThreshold","restSpeedThreshold","_initialVelocity","velocity","_lastVelocity","_toValue","toValue","_delay","delay","stiffness","damping","mass","bounciness","speed","tension","friction","_stiffness","_damping","_mass","springConfig","fromBouncinessAndSpeed","fromOrigamiTensionAndFriction","_clock","state","finished","position","time"],"mappings":"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","sourcesContent":["import AnimatedValue from '../core/InternalAnimatedValue';\nimport Animation from './Animation';\nimport SpringConfig from '../SpringConfig';\nimport spring from './spring';\n\nimport { block, clockRunning, startClock, stopClock, cond } from '../base';\nimport Clock from '../core/AnimatedClock';\n\nimport invariant from 'fbjs/lib/invariant';\n\nfunction withDefault(value, defaultValue) {\n  if (value === undefined || value === null) {\n    return defaultValue;\n  }\n  return value;\n}\n\nexport default class SpringAnimation extends Animation {\n  constructor(config) {\n    super();\n\n    this._overshootClamping = withDefault(config.overshootClamping, false);\n    this._restDisplacementThreshold = withDefault(\n      config.restDisplacementThreshold,\n      0.001\n    );\n    this._restSpeedThreshold = withDefault(config.restSpeedThreshold, 0.001);\n    this._initialVelocity = withDefault(config.velocity, 0);\n    this._lastVelocity = withDefault(config.velocity, 0);\n    this._toValue = config.toValue;\n    this._delay = withDefault(config.delay, 0);\n\n    if (\n      config.stiffness !== undefined ||\n      config.damping !== undefined ||\n      config.mass !== undefined\n    ) {\n      invariant(\n        config.bounciness === undefined &&\n          config.speed === undefined &&\n          config.tension === undefined &&\n          config.friction === undefined,\n        'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one'\n      );\n      this._stiffness = withDefault(config.stiffness, 100);\n      this._damping = withDefault(config.damping, 10);\n      this._mass = withDefault(config.mass, 1);\n    } else if (config.bounciness !== undefined || config.speed !== undefined) {\n      // Convert the origami bounciness/speed values to stiffness/damping\n      // We assume mass is 1.\n      invariant(\n        config.tension === undefined &&\n          config.friction === undefined &&\n          config.stiffness === undefined &&\n          config.damping === undefined &&\n          config.mass === undefined,\n        'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one'\n      );\n      const springConfig = SpringConfig.fromBouncinessAndSpeed(\n        withDefault(config.bounciness, 8),\n        withDefault(config.speed, 12)\n      );\n      this._stiffness = springConfig.stiffness;\n      this._damping = springConfig.damping;\n      this._mass = 1;\n    } else {\n      // Convert the origami tension/friction values to stiffness/damping\n      // We assume mass is 1.\n      const springConfig = SpringConfig.fromOrigamiTensionAndFriction(\n        withDefault(config.tension, 40),\n        withDefault(config.friction, 7)\n      );\n      this._stiffness = springConfig.stiffness;\n      this._damping = springConfig.damping;\n      this._mass = 1;\n    }\n\n    invariant(this._stiffness > 0, 'Stiffness value must be greater than 0');\n    invariant(this._damping > 0, 'Damping value must be greater than 0');\n    invariant(this._mass > 0, 'Mass value must be greater than 0');\n  }\n\n  start(value) {\n    this._clock = new Clock();\n    const state = {\n      finished: new AnimatedValue(0),\n      velocity: new AnimatedValue(this._initialVelocity),\n      position: value,\n      time: new AnimatedValue(0),\n    };\n\n    const config = {\n      damping: this._damping,\n      mass: this._mass,\n      stiffness: this._stiffness,\n      toValue: this._toValue,\n      overshootClamping: this._overshootClamping,\n      restSpeedThreshold: this._restSpeedThreshold,\n      restDisplacementThreshold: this._restDisplacementThreshold,\n    };\n\n    return block([\n      cond(clockRunning(this._clock), 0, [startClock(this._clock)]),\n      spring(this._clock, state, config),\n      cond(state.finished, stopClock(this._clock)),\n    ]);\n  }\n\n  stop() {\n    // this._finished && this._finished.setValue(1);\n  }\n  static getDefaultState() {\n    return {\n      position: new AnimatedValue(0),\n      finished: new AnimatedValue(0),\n      velocity: new AnimatedValue(0),\n      time: new AnimatedValue(0),\n    };\n  }\n}\n"]},"metadata":{},"sourceType":"module"}